execute pathogen#infect()

set ttimeoutlen=10

set relativenumber
set number
set scrolloff=9999
set tabstop=4
set shiftwidth=4
set showcmd
set cursorline
set smartindent
set wildmenu
set incsearch
set lazyredraw
set nocompatible
set noshowmode
set noswapfile
set shortmess+=A " ignore swap warnings
set ignorecase
set smartcase " when searching
set backspace=indent,eol,start " allow for deleting existing file content
set fillchars=vert:│,fold:-

filetype on

if &term =~ '^screen'
	set ttymouse=xterm2
endif

au BufRead,BufNewFile *.fig setfiletype pug

set nofoldenable
set foldmethod=indent
au BufWinLeave ?* mkview 1

let g:mapleader = ","

nnoremap <silent> <Leader>a :call AckSearch('')<Left><Left>
nnoremap <silent> <Leader>e :NERDTree<CR>
nnoremap <silent> <Leader>f :Files<CR> " fzf.vim files search
nnoremap <silent> <Leader>m :set mouse=a<CR>
nnoremap <silent> <Leader>n :set mouse=<CR>
nnoremap <silent> <Leader>q :cclose<CR>
nnoremap <silent> <Leader>v :source ~/.vim/vimrc<CR>
nnoremap <silent> <space> :Buffers<CR> " fzf.vim buffer search window
vnoremap gs :'<,'>sort<CR>

let g:airline_left_sep = ''
let g:airline_right_sep = ''
let g:tmuxline_powerline_separators = 0

let g:airline#extensions#tabline#enabled = 0
let g:airline_section_b = '%{getcwd()}'
let g:airline_detect_modified=1

set laststatus=2

if ! has('gui_running')
	set ttimeoutlen=10
	augroup FastEscape
		autocmd!
		au InsertEnter * set timeoutlen=0
		au InsertLeave * set timeoutlen=1000
	augroup END
endif

let g:airline_powerline_fonts = 1
let g:airline_theme='deus'
set t_Co=256

if !exists('g:airline_symbols')
	let g:airline_symbols = {}
endif

let g:airline_symbols.space = "\ua0"

let delimitMate_expand_cr = 1

let g:neocomplete#enable_at_startup = 1

let g:SuperTabDefaultCompletionType = "<c-n>"

let NERDTreeShowHidden=1

let g:closetag_filenames = "*.html,*.tag"

let g:syntastic_javascript_checkers = ['xo']

let g:syntastic_error_symbol = "✖"
let g:syntastic_style_error_symbol = "✖"
let g:syntastic_warning_symbol = "‼"
let g:syntastic_style_warning_symbol = "‼"

if executable('ag')
	let g:ackprg = 'ag --vimgrep'
endif

colorscheme dracula

function AckSearch(string) abort
	let saved_shellpipe = &shellpipe
	let &shellpipe = '>'

	try
		execute 'Ack!' shellescape(a:string, 1)
	finally
		let &shellpipe = saved_shellpipe
	endtry

endfunction

function! TrailingWhitespace ()
	hi clear MatchParen
	hi MatchParen cterm=bold,underline term=bold,underline

	hi ExtraWhitespace cterm=underline,bold term=bold,underline ctermfg=red
	match ExtraWhitespace /\s\+$/
endfunction

syntax on
au BufWinEnter * :call TrailingWhitespace()
au VimEnter * silent AirlineToggleWhitespace

call TrailingWhitespace()

hi Error cterm=none ctermfg=white ctermbg=red
hi VertSplit cterm=none ctermfg=59 ctermbg=none
hi EndOfBuffer ctermfg=59

au BufEnter * set colorcolumn=80
set colorcolumn=80
